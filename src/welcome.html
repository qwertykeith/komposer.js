<template>
    <section class="au-animate">

        <div class="live-demo">

            <div>
                <a href="https://github.com/qwertykeith/komposer.js">Github &amp; Explanation</a>
                <label for="tempo">Tempo</label>
                <input id="tempo"
                    type="number"
                    value.bind="tempo & throttle:450"
                    class="tempo">
                <button repeat.for="m of getMutators()"
                    class="k-toggle-btn ${model.mutator.name==m.name?'on':''}"
                    click.delegate="setMutator(m)">${m.name}</button>
            </div>

            <!--<p>Tempo: ${tempo}</p>-->
            <!--NOTE this annoyingly has to be a div-->
            <div class="dot-canvas">
                <div repeat.for="dot of model.dots"
                    show.bind="dot.channel==model.currentChannel"
                    class="draggable"
                    interact-draggable="position.bind:dot.pos"
                    locationchange.delegate="placeDot($event)"
                    interact-dragmove.delegate="moveElementOnEvent($event)"
                    interact-tap.delegate="mutate(dot)">
                    <loop-view loop.bind="dot"
                        loop-start.delegate="startTriggerDot($event.detail.player)"
                        loop-stop.delegate="stopTriggerDot($event.detail.player)"></loop-view>
                </div>
                <!--<div class="trash"
                    interact-droppable>TRASH</div>-->
            </div>

            <div class="channel-strips">
                <channel-strip repeat.for="c of model.komposer.channels"
                    is-current.bind="$index==model.currentChannel"
                    channel.bind="c"
                    on-select.delegate="setChannel(c)"
                    on-auto-toggle.delegate="toggleAuto(c)">

                </channel-strip>

            </div>
        </div>



    </section>
</template>
